<div class="match-container">
  <!-- Header -->
  <div class="match-header">
    <h1>âš½ Mundial 2026 - Partido en Vivo</h1>
    <p class="subtitle">Sistema de Eventos en Tiempo Real con RabbitMQ + Socket.IO</p>
    <div class="status-badge" [class.live]="matchStatus === 'EN VIVO'">
      <span class="pulse-dot"></span>
      {{ matchStatus }}
    </div>
  </div>

  <!-- Scoreboard -->
  <div class="scoreboard">
    <div class="team home">
      <div class="team-flag">ğŸ‡µğŸ‡ª</div>
      <h2>{{ homeTeam }}</h2>
      <div class="score">{{ score.home }}</div>
    </div>
    
    <div class="vs-section">
      <div class="minute-display">{{ minute }}'</div>
      <div class="vs">VS</div>
    </div>
    
    <div class="team away">
      <div class="team-flag">ğŸ‡¦ğŸ‡·</div>
      <h2>{{ awayTeam }}</h2>
      <div class="score">{{ score.away }}</div>
    </div>
  </div>

  <!-- Stats Summary -->
  <!-- Stats Summary -->
<div class="stats-summary">
  <div class="stat-item">
    <span class="stat-icon">âš½</span>
    <span class="stat-value">{{ getEventCountByType('goal') }}</span>
    <span class="stat-label">Goles</span>
  </div>
  <div class="stat-item">
    <span class="stat-icon">ğŸŸ¨</span>
    <span class="stat-value">{{ getEventCountByType('card') }}</span>
    <span class="stat-label">Tarjetas</span>
  </div>
  <div class="stat-item">
    <span class="stat-icon">ğŸ”„</span>
    <span class="stat-value">{{ getEventCountByType('substitution') }}</span>
    <span class="stat-label">Cambios</span>
  </div>
  <div class="stat-item">
    <span class="stat-icon">ğŸ“‹</span>
    <span class="stat-value">{{ events.length }}</span>
    <span class="stat-label">Total</span>
  </div>
</div>


  <!-- Events Section -->
  <div class="events-section">
    <div class="events-header">
      <h3>ğŸ“‹ Eventos del Partido en Tiempo Real</h3>
      <button 
        *ngIf="events.length > 0" 
        class="clear-btn" 
        (click)="clearEvents()"
        title="Limpiar eventos">
        ğŸ—‘ï¸ Limpiar
      </button>
    </div>

    <div class="events-list">
      <!-- Lista de eventos -->
      <div 
        *ngFor="let event of events; let i = index" 
        class="event-item" 
        [ngClass]="getEventClass(event.eventType)"
        [@slideIn]>
        
        <span class="event-icon">{{ getEventIcon(event.eventType) }}</span>
        
        <span class="event-minute">{{ event.data?.minute || 0 }}'</span>
        
        <div class="event-content">
          <strong class="event-type">{{ event.eventType.toUpperCase() }}</strong>
          <span class="event-description">
            {{ getEventDescription(event) }}
          </span>
          <span class="event-team-badge" *ngIf="event.data?.team">
            {{ event.data.team }}
          </span>
        </div>
        
        <span class="event-time">{{ event.timestamp | date:'HH:mm:ss' }}</span>
      </div>
      
      <!-- Mensaje cuando no hay eventos -->
      <div *ngIf="events.length === 0" class="no-events">
        <div class="loading">
          <div class="pulse"></div>
          <p>ğŸ”´ EN VIVO - Esperando eventos del partido...</p>
          <small>Conectado al servidor WebSocket</small>
          <div class="connection-indicator">
            <span class="dot green"></span>
            <span>Consumer: Conectado</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer Info -->
  <div class="footer-info">
    <p>ğŸ’¡ Los eventos se actualizan en tiempo real a travÃ©s de RabbitMQ y Socket.IO</p>
    <p class="tech-stack">
      <span class="badge">Angular</span>
      <span class="badge">Node.js</span>
      <span class="badge">RabbitMQ</span>
      <span class="badge">Socket.IO</span>
      <span class="badge">MySQL</span>
    </p>
  </div>
</div>
